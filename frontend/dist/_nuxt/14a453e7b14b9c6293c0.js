/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,n){"use strict";n.r(t),n.d(t,"registerInstallations",(function(){return ne}));var r,o=n(0),c=n.n(o),l=n(38),f=n(57),h=n(177),d=1e4,_="w:0.2.7",v="FIS_v2",m="https://firebaseinstallations.googleapis.com/v1",y=36e5,w=((r={})["missing-app-config-values"]="Missing App configuration values.",r["create-installation-failed"]="Could not register Firebase Installation.",r["generate-token-failed"]="Could not generate Auth Token.",r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),T=new f.ErrorFactory("installations","Installations",w);function E(e){return e instanceof f.FirebaseError&&e.code.includes("request-failed")}function S(e){if(!e||!e.options)throw T.create("missing-app-config-values");var t=e.name,n=e.options,r=n.projectId,o=n.apiKey,c=n.appId;if(!(t&&r&&o&&c))throw T.create("missing-app-config-values");return{appName:t,projectId:r,apiKey:o,appId:c}}function k(e){var t=e.projectId;return m+"/projects/"+t+"/installations"}function O(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function I(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,T.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function A(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function N(e,t){var n=t.refreshToken,r=A(e);return r.append("Authorization",function(e){return v+" "+e}(n)),r}function R(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function C(e,t){var n=t.fid;return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,r,body,o,c,f;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return t=k(e),r=A(e),body={fid:n,authVersion:v,appId:e.appId,sdkVersion:_},o={method:"POST",headers:r,body:JSON.stringify(body)},[4,R((function(){return fetch(t,o)}))];case 1:return(c=l.sent()).ok?[4,c.json()]:[3,3];case 2:return f=l.sent(),[2,{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:O(f.authToken)}];case 3:return[4,I("Create Installation",c)];case 4:throw l.sent()}}))}))}function P(e){return new Promise((function(t){setTimeout(t,e)}))}var j=/^[cdef][\w-]{21}$/,U="";function D(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(l.__spread)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return j.test(t)?t:U}catch(e){return U}}var M="firebase-installations-database",L=1,x="firebase-installations-store",F=null;function W(){return F||(F=Object(h.openDb)(M,L,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(x)}}))),F}function B(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return Object(l.__generator)(this,(function(c){switch(c.label){case 0:return n=G(e),[4,W()];case 1:return r=c.sent(),[4,(o=r.transaction(x,"readwrite")).objectStore(x).put(t,n)];case 2:return c.sent(),[4,o.complete];case 3:return c.sent(),[2,t]}}))}))}function K(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return t=G(e),[4,W()];case 1:return n=o.sent(),[4,(r=n.transaction(x,"readwrite")).objectStore(x).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function V(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,o,c,f,h;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return n=G(e),[4,W()];case 1:return r=l.sent(),o=r.transaction(x,"readwrite"),[4,(c=o.objectStore(x)).get(n)];case 2:return f=l.sent(),(h=t(f))===f?[2,h]:void 0!==h?[3,4]:[4,c.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,c.put(h,n)];case 5:l.sent(),l.label=6;case 6:return[4,o.complete];case 7:return l.sent(),[2,h]}}))}))}function G(e){return e.appName+"!"+e.appId}function H(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return[4,V(e,(function(n){var r=function(e){var t=e||{fid:D(),registrationStatus:0};if($(t))return{fid:t.fid,registrationStatus:0};return t}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(T.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=function(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,C(e,t)];case 1:return n=o.sent(),[2,B(e,n)];case 2:return E(r=o.sent())&&409===r.serverCode?[4,K(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,B(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,r);return{installationEntry:r,registrationPromise:o}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:z(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}))];case 1:return(n=o.sent()).fid!==U?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function z(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:return[4,X(e)];case 1:t=n.sent(),n.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,P(100)];case 3:return n.sent(),[4,X(e)];case 4:return t=n.sent(),[3,2];case 5:if(0===t.registrationStatus)throw T.create("create-installation-failed");return[2,t]}}))}))}function X(e){return V(e,(function(e){if(!e)throw T.create("installation-not-found");return $(e)?{fid:e.fid,registrationStatus:0}:e}))}function $(e){return 1===e.registrationStatus&&e.registrationTime+d<Date.now()}function J(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,body,o,c,f;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return n=function(e,t){var n=t.fid;return k(e)+"/"+n+"/authTokens:generate"}(e,t),r=N(e,t),body={installation:{sdkVersion:_}},o={method:"POST",headers:r,body:JSON.stringify(body)},[4,R((function(){return fetch(n,o)}))];case 1:return(c=l.sent()).ok?[4,c.json()]:[3,3];case 2:return f=l.sent(),[2,O(f)];case 3:return[4,I("Generate Auth Token",c)];case 4:throw l.sent()}}))}))}function Z(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return[4,V(e,(function(n){if(!Q(n))throw T.create("not-registered");var r=n.authToken;if(function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y}(e)}(r))return n;if(1===r.requestStatus)return t=function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return[4,Y(e)];case 1:t=r.sent(),r.label=2;case 2:return 1!==t.authToken.requestStatus?[3,5]:[4,P(100)];case 3:return r.sent(),[4,Y(e)];case 4:return t=r.sent(),[3,2];case 5:if(0===(n=t.authToken).requestStatus)throw T.create("generate-token-failed");return[2,n]}}))}))}(e),n;if(!navigator.onLine)throw T.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(l.__assign)({},e,{authToken:t})}(n);return t=function(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return Object(l.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,8]),[4,J(e,t)];case 1:return n=c.sent(),o=Object(l.__assign)({},t,{authToken:n}),[4,B(e,o)];case 2:return c.sent(),[2,n];case 3:return!E(r=c.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,K(e)];case 4:return c.sent(),[3,7];case 5:return o=Object(l.__assign)({},t,{authToken:{requestStatus:0}}),[4,B(e,o)];case 6:c.sent(),c.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return n=o.sent(),t?[4,t]:[3,3];case 2:return r=o.sent(),[3,4];case 3:r=n.authToken,o.label=4;case 4:return[2,r.token]}}))}))}function Y(e){return V(e,(function(e){if(!Q(e))throw T.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+d<Date.now()?Object(l.__assign)({},e,{authToken:{requestStatus:0}}):e}))}function Q(e){return void 0!==e&&2===e.registrationStatus}function ee(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(l.__generator)(this,(function(o){switch(o.label){case 0:return[4,H(e)];case 1:return t=o.sent(),n=t.installationEntry,(r=t.registrationPromise)?[4,r]:[3,3];case 2:return o.sent(),[3,4];case 3:if(2!==n.registrationStatus)throw T.create("create-installation-failed");o.label=4;case 4:return[2]}}))}))}function te(e,t){return Object(l.__awaiter)(this,void 0,void 0,(function(){var n,r,o,c;return Object(l.__generator)(this,(function(l){switch(l.label){case 0:return n=function(e,t){var n=t.fid;return k(e)+"/"+n}(e,t),r=N(e,t),o={method:"DELETE",headers:r},[4,R((function(){return fetch(n,o)}))];case 1:return(c=l.sent()).ok?[3,3]:[4,I("Delete Installation",c)];case 2:throw l.sent();case 3:return[2]}}))}))}function ne(e){e.INTERNAL.registerService("installations",(function(e){return S(e),{app:e,getId:function(){return function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return Object(l.__generator)(this,(function(c){switch(c.label){case 0:return[4,H(t=S(e))];case 1:return n=c.sent(),r=n.installationEntry,(o=n.registrationPromise)&&o.catch((function(){})),2===r.registrationStatus&&Z(t).catch((function(){})),[2,r.fid]}}))}))}(e)},getToken:function(){return function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){switch(n.label){case 0:return[4,ee(t=S(e))];case 1:return n.sent(),[2,Z(t)]}}))}))}(e)},delete:function(){return function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return[4,V(t=S(e),(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw T.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw T.create("app-offline");case 3:return[4,te(t,n)];case 4:return r.sent(),[4,K(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(e)}}}))}ne(c.a)},174:function(e,t,n){"use strict";var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;n(105),n(107),n(106),n(175),n(176),n(178),n(179),n(180),n(181),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),e.exports=o},175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,c=n(38),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(e){function t(code,n,details){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r.code=code,r.details=details,r}return c.__extends(t,e),t}(Error);var h=function(){function e(e){this.app=e}return e.prototype.getAuthToken=function(){return c.__awaiter(this,void 0,void 0,(function(){var e;return c.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 2:return t.sent(),[2,void 0];case 3:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return c.__awaiter(this,void 0,void 0,(function(){var e;return c.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(e=t.sent())?[2,e]:[2,void 0];case 2:return t.sent(),[2,void 0];case 3:return[2]}}))}))},e.prototype.getContext=function(){return c.__awaiter(this,void 0,void 0,(function(){var e,t;return c.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function d(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var _=function(){function e(){}return e.prototype.encode=function(data){var e=this;if(null==data)return null;if(data instanceof Number&&(data=data.valueOf()),"number"==typeof data&&isFinite(data))return data;if(!0===data||!1===data)return data;if("[object String]"===Object.prototype.toString.call(data))return data;if(Array.isArray(data))return data.map((function(t){return e.encode(t)}));if("function"==typeof data||"object"==typeof data)return d(data,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+data)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?d(e,(function(e){return t.decode(e)})):e},e}();var v=function(){function e(e,t){var n=this;void 0===t&&(t="us-central1"),this.app_=e,this.region_=t,this.serializer=new _,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return n.deleteService()}},this.contextProvider=new h(e),this.cancelAllRequests=new Promise((function(e){n.deleteService=function(){return e()}}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+n+"/"+e:"https://"+n+"-"+t+".cloudfunctions.net/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(data){return n.call(e,data,t||{})}},e.prototype.postJSON=function(e,body,t){return c.__awaiter(this,void 0,void 0,(function(){var n,r;return c.__generator(this,(function(o){switch(o.label){case 0:t.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(e,{method:"POST",body:JSON.stringify(body),headers:t})];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,n.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:n.status,json:r}]}}))}))},e.prototype.call=function(e,data,t){return c.__awaiter(this,void 0,void 0,(function(){var n,body,r,o,h,d,_,v;return c.__generator(this,(function(c){switch(c.label){case 0:return n=this._url(e),data=this.serializer.encode(data),body={data:data},r=new Headers,[4,this.contextProvider.getContext()];case 1:return(o=c.sent()).authToken&&r.append("Authorization","Bearer "+o.authToken),o.instanceIdToken&&r.append("Firebase-Instance-ID-Token",o.instanceIdToken),h=t.timeout||7e4,[4,Promise.race([this.postJSON(n,body,r),(m=h,new Promise((function(e,t){setTimeout((function(){t(new f("deadline-exceeded","deadline-exceeded"))}),m)}))),this.cancelAllRequests])];case 2:if(!(d=c.sent()))throw new f("cancelled","Firebase Functions instance was deleted.");if(_=function(e,t,n){var code=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=code,details=void 0;try{var o=t&&t.error;if(o){var c=o.status;if("string"==typeof c){if(!l[c])return new f("internal","internal");code=l[c],r=c}var h=o.message;"string"==typeof h&&(r=h),void 0!==(details=o.details)&&(details=n.decode(details))}}catch(e){}return"ok"===code?null:new f(code,r,details)}(d.status,d.json,this.serializer))throw _;if(!d.json)throw new f("internal","Response is not valid JSON object.");if(void 0===(v=d.json.data)&&(v=d.json.result),void 0===v)throw new f("internal","Response is missing data field.");return[2,{data:this.serializer.decode(v)}]}var m}))}))},e}(),m="functions";function y(e,t,n){return new v(e,n)}function w(e){var t={Functions:v};e.INTERNAL.registerService(m,y,t,void 0,!0)}w(o),t.registerFunctions=w},176:function(e,t,n){"use strict";n.r(t),n.d(t,"isSupported",(function(){return B})),n.d(t,"registerMessaging",(function(){return W}));var r,o,c=n(0),l=n.n(c),f=n(38),h=n(57),d=(n(168),(r={})["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["should-be-overriden"]="This method should be overriden by extended classes.",r["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",r["permission-default"]="The required permissions were not granted and dismissed instead.",r["permission-blocked"]="The required permissions were not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",r["notifications-blocked"]="Notifications have been blocked.",r["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["sw-registration-expected"]="A service worker registration was the expected input.",r["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",r["invalid-saved-token"]="Unable to access details of the saved token.",r["sw-reg-redundant"]="The service worker being used for push was made redundant.",r["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",r["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",r["token-update-no-token"]="FCM returned no token when updating the user to push.",r["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",r["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",r["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",r["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",r["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",r["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$errorInfo}",r["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",r["failed-to-delete-token"]="Unable to delete the currently saved token.",r["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",r["bad-scope"]="The service worker scope must be a string with at least one character.",r["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",r["bad-subscription"]="The subscription must be a valid PushSubscription.",r["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",r["failed-delete-vapid-key"]="The VAPID key could not be deleted.",r["invalid-public-vapid-key"]="The public VAPID key must be a string.",r["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",r),_=new h.ErrorFactory("messaging","Messaging",d),v=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),m="https://fcmregistrations.googleapis.com/v1";function y(a,b){if(null==a||null==b)return!1;if(a===b)return!0;if(a.byteLength!==b.byteLength)return!1;for(var e=new DataView(a),t=new DataView(b),i=0;i<a.byteLength;i++)if(e.getUint8(i)!==t.getUint8(i))return!1;return!0}function w(e){return function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(f.__spread)(t)))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(e){e.PUSH_MSG_RECEIVED="push-msg-received",e.NOTIFICATION_CLICKED="notification-clicked"}(o||(o={}));var T=function(){function e(){}return e.prototype.getToken=function(e,t,n){return Object(f.__awaiter)(this,void 0,void 0,(function(){var r,body,o,c,l,h;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:return[4,S(e)];case 1:r=f.sent(),body=k(t,n),o={method:"POST",headers:r,body:JSON.stringify(body)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(E(e),o)];case 3:return[4,f.sent().json()];case 4:return c=f.sent(),[3,6];case 5:throw l=f.sent(),_.create("token-subscribe-failed",{errorInfo:l});case 6:if(c.error)throw h=c.error.message,_.create("token-subscribe-failed",{errorInfo:h});if(!c.token)throw _.create("token-subscribe-no-token");return[2,c.token]}}))}))},e.prototype.updateToken=function(e,t,n,r){return Object(f.__awaiter)(this,void 0,void 0,(function(){var o,body,c,l,h,d;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:return[4,S(t)];case 1:o=f.sent(),body=k(n,r),c={method:"PATCH",headers:o,body:JSON.stringify(body)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(E(t)+"/"+e.fcmToken,c)];case 3:return[4,f.sent().json()];case 4:return l=f.sent(),[3,6];case 5:throw h=f.sent(),_.create("token-update-failed",{errorInfo:h});case 6:if(l.error)throw d=l.error.message,_.create("token-update-failed",{errorInfo:d});if(!l.token)throw _.create("token-update-no-token");return[2,l.token]}}))}))},e.prototype.deleteToken=function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,o,c,l;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:return[4,S(e)];case 1:n=f.sent(),r={method:"DELETE",headers:n},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(E(e)+"/"+t.fcmToken,r)];case 3:return[4,f.sent().json()];case 4:if((o=f.sent()).error)throw c=o.error.message,_.create("token-unsubscribe-failed",{errorInfo:c});return[3,6];case 5:throw l=f.sent(),_.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}}))}))},e}();function E(e){return m+"/projects/"+e.options.projectId+"/registrations"}function S(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.installations().getToken()];case 1:return t=n.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.options.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function k(e,t){var n=w(e.getKey("p256dh")),r=w(e.getKey("auth")),body={web:{endpoint:e.endpoint,p256dh:n,auth:r}};return y(t.buffer,v.buffer)||(body.web.applicationPubKey=w(t)),body}function O(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var I="undefined",A="fcm_token_object_Store";function N(e){var t=indexedDB.open(I);t.onerror=function(e){},t.onsuccess=function(n){!function(e,t){if(e.objectStoreNames.contains(A)){var n=e.transaction(A).objectStore(A),r=new T,o=n.openCursor();o.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},o.onsuccess=function(){var cursor=o.result;if(cursor){var n=cursor.value;r.deleteToken(t,n),cursor.continue()}else e.close(),indexedDB.deleteDatabase(I)}}}(t.result,e)}}var R=function(){function e(){this.dbPromise=null}return e.prototype.get=function(e){return this.createTransaction((function(t){return t.get(e)}))},e.prototype.getIndex=function(e,t){return this.createTransaction((function(n){return n.index(e).get(t)}))},e.prototype.put=function(e){return this.createTransaction((function(t){return t.put(e)}),"readwrite")},e.prototype.delete=function(e){return this.createTransaction((function(t){return t.delete(e)}),"readwrite")},e.prototype.closeDatabase=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e.sent().close(),this.dbPromise=null,e.label=2;case 2:return[2]}}))}))},e.prototype.createTransaction=function(e,t){return void 0===t&&(t="readonly"),Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,o,c;return Object(f.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.getDb()];case 1:return n=l.sent(),r=n.transaction(this.objectStoreName,t),o=r.objectStore(this.objectStoreName),[4,C(e(o))];case 2:return c=l.sent(),[2,new Promise((function(e,t){r.oncomplete=function(){e(c)},r.onerror=function(){t(r.error)}}))]}}))}))},e.prototype.getDb=function(){var e=this;return this.dbPromise||(this.dbPromise=new Promise((function(t,n){var r=indexedDB.open(e.dbName,e.dbVersion);r.onsuccess=function(){t(r.result)},r.onerror=function(){e.dbPromise=null,n(r.error)},r.onupgradeneeded=function(t){return e.onDbUpgrade(r,t)}}))),this.dbPromise},e}();function C(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}var P=function(e){function t(t){var n=e.call(this)||this;return n.app=t,n.dbName="fcm_token_details_db",n.dbVersion=4,n.objectStoreName="fcm_token_object_Store",n}return Object(f.__extends)(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(o=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),o.createIndex("fcmToken","fcmToken",{unique:!0});case 1:N(this.app);case 2:var r=(o=e.transaction.objectStore(this.objectStoreName)).openCursor();r.onsuccess=function(){var cursor=r.result;if(cursor){var e=cursor.value,t=Object(f.__assign)({},e);e.createTime||(t.createTime=Date.now()),"string"==typeof e.vapidKey&&(t.vapidKey=O(e.vapidKey)),"string"==typeof e.auth&&(t.auth=O(e.auth).buffer),"string"==typeof e.auth&&(t.p256dh=O(e.p256dh).buffer),"string"==typeof e.fcmPushSet&&delete t.fcmPushSet,cursor.update(t),cursor.continue()}};break;case 3:var o,c=(o=e.transaction.objectStore(this.objectStoreName)).openCursor();c.onsuccess=function(){var cursor=c.result;if(cursor){var e=cursor.value,t=Object(f.__assign)({},e);"string"==typeof e.fcmPushSet&&delete t.fcmPushSet,cursor.update(t),cursor.continue()}}}},t.prototype.getTokenDetailsFromToken=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(t){if(!e)throw _.create("bad-token");return j({fcmToken:e}),[2,this.getIndex("fcmToken",e)]}))}))},t.prototype.getTokenDetailsFromSWScope=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(t){if(!e)throw _.create("bad-scope");return j({swScope:e}),[2,this.get(e)]}))}))},t.prototype.saveTokenDetails=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(t){if(!e.swScope)throw _.create("bad-scope");if(!e.vapidKey)throw _.create("bad-vapid-key");if(!e.endpoint||!e.auth||!e.p256dh)throw _.create("bad-subscription");if(!e.fcmSenderId)throw _.create("bad-sender-id");if(!e.fcmToken)throw _.create("bad-token");return j(e),[2,this.put(e)]}))}))},t.prototype.deleteToken=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var details;return Object(f.__generator)(this,(function(t){switch(t.label){case 0:return"string"!=typeof e||0===e.length?[2,Promise.reject(_.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(e)];case 1:if(!(details=t.sent()))throw _.create("delete-token-not-found");return[4,this.delete(details.swScope)];case 2:return t.sent(),[2,details]}}))}))},t}(R);function j(input){if(input.fcmToken&&("string"!=typeof input.fcmToken||0===input.fcmToken.length))throw _.create("bad-token");if(input.swScope&&("string"!=typeof input.swScope||0===input.swScope.length))throw _.create("bad-scope");if(input.vapidKey&&(!(input.vapidKey instanceof Uint8Array)||65!==input.vapidKey.length))throw _.create("bad-vapid-key");if(input.endpoint&&("string"!=typeof input.endpoint||0===input.endpoint.length))throw _.create("bad-subscription");if(input.auth&&!(input.auth instanceof ArrayBuffer))throw _.create("bad-subscription");if(input.p256dh&&!(input.p256dh instanceof ArrayBuffer))throw _.create("bad-subscription");if(input.fcmSenderId&&("string"!=typeof input.fcmSenderId||0===input.fcmSenderId.length))throw _.create("bad-sender-id")}var U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_vapid_details_db",t.dbVersion=1,t.objectStoreName="fcm_vapid_object_Store",t}return Object(f.__extends)(t,e),t.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:if("string"!=typeof e||0===e.length)throw _.create("bad-scope");return[4,this.get(e)];case 1:return[2,(t=n.sent())?t.vapidKey:void 0]}}))}))},t.prototype.saveVapidDetails=function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var details;return Object(f.__generator)(this,(function(n){if("string"!=typeof e||0===e.length)throw _.create("bad-scope");if(null===t||65!==t.length)throw _.create("bad-vapid-key");return details={swScope:e,vapidKey:t},[2,this.put(details)]}))}))},t.prototype.deleteVapidDetails=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:if(!(t=n.sent()))throw _.create("delete-scope-not-found");return[4,this.delete(e)];case 2:return n.sent(),[2,t]}}))}))},t}(R),D=function(){function e(e){var t=this;if(this.app=e,this.vapidDetailsModel=new U,this.subscriptionManager=new T,!e.options.messagingSenderId||"string"!=typeof e.options.messagingSenderId)throw _.create("bad-sender-id");this.INTERNAL={delete:function(){return t.delete()}},this.tokenDetailsModel=new P(e)}return e.prototype.getToken=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o;return Object(f.__generator)(this,(function(c){switch(c.label){case 0:if("denied"===(e=this.getNotificationPermission_()))throw _.create("notifications-blocked");return"granted"!==e?[2,null]:[4,this.getSWRegistration_()];case 1:return t=c.sent(),[4,this.getPublicVapidKey_()];case 2:return n=c.sent(),[4,this.getPushSubscription(t,n)];case 3:return r=c.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return(o=c.sent())?[2,this.manageExistingToken(t,r,n,o)]:[2,this.getNewToken(t,r,n)]}}))}))},e.prototype.manageExistingToken=function(e,t,n,r){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return function(e,t,n){if(!n.vapidKey||!y(t.buffer,n.vapidKey.buffer))return!1;var r=e.endpoint===n.endpoint,o=y(e.getKey("auth"),n.auth),c=y(e.getKey("p256dh"),n.p256dh);return r&&o&&c}(t,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]:[3,1];case 1:return[4,this.deleteTokenFromDB(r.fcmToken)];case 2:return o.sent(),[2,this.getNewToken(e,t,n)];case 3:return[2]}}))}))},e.prototype.updateToken=function(e,t,n,r){return Object(f.__awaiter)(this,void 0,void 0,(function(){var o,c,l;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,6]),[4,this.subscriptionManager.updateToken(r,this.app,t,n)];case 1:return o=f.sent(),c={swScope:e.scope,vapidKey:n,fcmSenderId:this.app.options.messagingSenderId,fcmToken:o,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(c)];case 2:return f.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return f.sent(),[2,o];case 4:return l=f.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw f.sent(),l;case 6:return[2]}}))}))},e.prototype.getNewToken=function(e,t,n){return Object(f.__awaiter)(this,void 0,void 0,(function(){var r,o;return Object(f.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.subscriptionManager.getToken(this.app,t,n)];case 1:return r=c.sent(),o={swScope:e.scope,vapidKey:n,fcmSenderId:this.app.options.messagingSenderId,fcmToken:r,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return c.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return c.sent(),[2,r]}}))}))},e.prototype.deleteToken=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(t=r.sent())?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}}))}))},e.prototype.deleteTokenFromDB=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.subscriptionManager.deleteToken(this.app,t)];case 2:return n.sent(),[2]}}))}))},e.prototype.getPushSubscription=function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})]}}))}))},e.prototype.requestPermission=function(){throw _.create("only-available-in-window")},e.prototype.useServiceWorker=function(e){throw _.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){throw _.create("only-available-in-window")},e.prototype.onMessage=function(e,t,n){throw _.create("only-available-in-window")},e.prototype.onTokenRefresh=function(e,t,n){throw _.create("only-available-in-window")},e.prototype.setBackgroundMessageHandler=function(e){throw _.create("only-available-in-sw")},e.prototype.delete=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}}))}))},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getSubscriptionManager=function(){return this.subscriptionManager},e}();var M=function(e){function t(t){var n=e.call(this,t)||this;return n.bgMessageHandler=null,self.addEventListener("push",(function(e){n.onPush(e)})),self.addEventListener("pushsubscriptionchange",(function(e){n.onSubChange(e)})),self.addEventListener("notificationclick",(function(e){n.onNotificationClick(e)})),n}return Object(f.__extends)(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},t.prototype.onPush_=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,c,l;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return f.sent()?[2,this.sendMessageToWindowClients_(t)]:(n=this.getNotificationData_(t))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return o=f.sent(),c=n.actions,l=Notification.maxActions,c&&l&&c.length>l&&console.warn("This browser only supports "+l+" actions.The remaining actions will not be displayed."),[2,o.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return f.sent(),[2];case 5:return[2]}}))}))},t.prototype.onSubChange_=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return e=o.sent(),[3,3];case 2:throw t=o.sent(),_.create("unable-to-resubscribe",{errorInfo:t});case 3:return o.trys.push([3,5,,8]),[4,e.pushManager.getSubscription()];case 4:return o.sent(),[3,8];case 5:return n=o.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(e.scope)];case 6:if(!(r=o.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw o.sent(),n;case 8:return[2]}}))}))},t.prototype.onNotificationClick_=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,link,n,r;return Object(f.__generator)(this,(function(c){switch(c.label){case 0:if(!(e.notification&&e.notification.data&&e.notification.data.FCM_MSG))return[2];if(e.action)return[2];if(e.stopImmediatePropagation(),e.notification.close(),!(t=e.notification.data.FCM_MSG).notification)return[2];if(!(link=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action)){if(!(t.data&&"google.c.a.c_id"in t.data))return[2];link=self.location.origin}return[4,this.getWindowClient_(link)];case 1:return(n=c.sent())?[3,4]:[4,self.clients.openWindow(link)];case 2:return n=c.sent(),[4,(l=3e3,new Promise((function(e){setTimeout(e,l)})))];case 3:return c.sent(),[3,6];case 4:return[4,n.focus()];case 5:n=c.sent(),c.label=6;case 6:return n?(delete t.notification,delete t.fcmOptions,r=x(o.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(n,r)]):[2]}var l}))}))},t.prototype.getNotificationData_=function(e){var t;if(e&&"object"==typeof e.notification){var n=Object(f.__assign)({},e.notification);return n.data=Object(f.__assign)({},e.notification.data,((t={}).FCM_MSG=e,t)),n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw _.create("bg-handler-function-expected");this.bgMessageHandler=e},t.prototype.getWindowClient_=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return t=new URL(e,self.location.href).href,[4,L()];case 1:for(n=o.sent(),r=null,i=0;i<n.length;i++)if(new URL(n[i].url,self.location.href).href===t){r=n[i];break}return[2,r]}}))}))},t.prototype.attemptToMessageClient_=function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(n){if(!e)throw _.create("no-window-client-to-msg");return e.postMessage(t),[2]}))}))},t.prototype.hasVisibleClients_=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){switch(e.label){case 0:return[4,L()];case 1:return[2,e.sent().some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))]}}))}))},t.prototype.sendMessageToWindowClients_=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return Object(f.__generator)(this,(function(c){switch(c.label){case 0:return[4,L()];case 1:return t=c.sent(),n=x(o.PUSH_MSG_RECEIVED,e),[4,Promise.all(t.map((function(e){return r.attemptToMessageClient_(e,n)})))];case 2:return c.sent(),[2]}}))}))},t.prototype.getSWRegistration_=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){return[2,self.registration]}))}))},t.prototype.getPublicVapidKey_=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(e=n.sent()))throw _.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:return null==(t=n.sent())?[2,v]:[2,t]}}))}))},t}(D);function L(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function x(e,t){return{firebaseMessagingType:e,firebaseMessagingData:t}}var F=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(h.createSubscribe)((function(e){n.messageObserver=e})),n.onTokenRefreshInternal=Object(h.createSubscribe)((function(e){n.tokenRefreshObserver=e})),n.setupSWMessageListener_(),n}return Object(f.__extends)(t,e),t.prototype.requestPermission=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e;return Object(f.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?_.create("permission-blocked"):_.create("permission-default")}}))}))},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw _.create("sw-registration-expected");if(null!=this.registrationToUse)throw _.create("use-sw-before-get-token");this.registrationToUse=e},t.prototype.usePublicVapidKey=function(e){if("string"!=typeof e)throw _.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw _.create("use-public-key-before-get-token");var t=O(e);if(65!==t.length)throw _.create("public-vapid-key-decryption-failed");this.publicVapidKeyToUse=t},t.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=function(e,t,n){return"function"==typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise((function(n,r){if(t)if("activated"!==t.state)if("redundant"!==t.state){var o=function(){if("activated"===t.state)n(e);else{if("redundant"!==t.state)return;r(_.create("sw-reg-redundant"))}t.removeEventListener("statechange",o)};t.addEventListener("statechange",o)}else r(_.create("sw-reg-redundant"));else n(e);else r(_.create("no-sw-in-reg"))}))},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch((function(e){throw _.create("failed-serviceworker-registration",{browserErrorMessage:e.message})})).then((function(t){return e.waitForRegistrationToActivate_(t).then((function(){return e.registrationToUse=t,t.update(),t}))})))},t.prototype.getPublicVapidKey_=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,v]}))}))},t.prototype.setupSWMessageListener_=function(){var e=this;navigator.serviceWorker.addEventListener("message",(function(t){if(t.data&&t.data.firebaseMessagingType&&t.data.firebaseMessagingData){var n=t.data,r=n.firebaseMessagingType,c=n.firebaseMessagingData;e.messageObserver&&e.messageObserver.next(c);var data=c.data;if(data&&"google.c.a.c_id"in data&&"1"===data["google.c.a.e"]){var l=function(e){switch(e){case o.NOTIFICATION_CLICKED:return"notification_open";case o.PUSH_MSG_RECEIVED:return"notification_foreground";default:throw new Error}}(r);e.app.INTERNAL.analytics.logEvent(l,{message_name:data["google.c.a.c_l"],message_id:data["google.c.a.c_id"],message_time:data["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}}}),!1)},t}(D);function W(e){var t={isSupported:B};e.INTERNAL.registerService("messaging",(function(e){if(!B())throw _.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new M(e):new F(e)}),t)}function B(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}W(l.a)},177:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var o,p=new Promise((function(c,l){n(o=e[t].apply(e,r)).then(c,l)}));return p.request=o,p}function o(e,t,n){var p=r(e,t,n);return p.then((function(e){if(e)return new _(e,p.request)}))}function c(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function l(e,t,n,o){o.forEach((function(o){o in n.prototype&&(e.prototype[o]=function(){return r(this[t],o,arguments)})}))}function f(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function h(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return o(this[t],r,arguments)})}))}function d(e){this._index=e}function _(cursor,e){this._cursor=cursor,this._request=e}function v(e){this._store=e}function m(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function y(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new m(n)}function w(e){this._db=e}c(d,"_index",["name","keyPath","multiEntry","unique"]),l(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),h(d,"_index",IDBIndex,["openCursor","openKeyCursor"]),c(_,"_cursor",["direction","key","primaryKey","value"]),l(_,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(_.prototype[e]=function(){var cursor=this,t=arguments;return Promise.resolve().then((function(){return cursor._cursor[e].apply(cursor._cursor,t),n(cursor._request).then((function(e){if(e)return new _(e,cursor._request)}))}))})})),v.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},v.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},c(v,"_store",["name","keyPath","indexNames","autoIncrement"]),l(v,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),h(v,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),f(v,"_store",IDBObjectStore,["deleteIndex"]),m.prototype.objectStore=function(){return new v(this._tx.objectStore.apply(this._tx,arguments))},c(m,"_tx",["objectStoreNames","mode"]),f(m,"_tx",IDBTransaction,["abort"]),y.prototype.createObjectStore=function(){return new v(this._db.createObjectStore.apply(this._db,arguments))},c(y,"_db",["name","version","objectStoreNames"]),f(y,"_db",IDBDatabase,["deleteObjectStore","close"]),w.prototype.transaction=function(){return new m(this._db.transaction.apply(this._db,arguments))},c(w,"_db",["name","version","objectStoreNames"]),f(w,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[v,d].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],o=this._store||this._index,c=o[e].apply(o,n.slice(0,-1));c.onsuccess=function(){r(c.result)}})}))})),[d,v].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(o){n.iterateCursor(e,(function(cursor){cursor?(r.push(cursor.value),void 0===t||r.length!=t?cursor.continue():o(r)):o(r)}))}))})})),e.openDb=function(e,t,n){var p=r(indexedDB,"open",[e,t]),o=p.request;return o&&(o.onupgradeneeded=function(e){n&&n(new y(o.result,e.oldVersion,o.transaction))}),p.then((function(e){return new w(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},178:function(e,t,n){"use strict";n.r(t),n.d(t,"registerStorage",(function(){return ft}));var r=n(0),o=n.n(r),c=n(38),l="firebasestorage.googleapis.com",f="storageBucket",h=12e4,d=6e5,_=-9007199254740991,v=function(){function e(code,e){this.code_=y(code),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(code){return y(code)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),m={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function y(code){return"storage/"+code}function w(){return new v(m.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function T(){return new v(m.CANCELED,"User canceled the upload/download.")}function E(){return new v(m.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S(){return new v(m.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function k(e,t,n){return new v(m.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function O(){return new v(m.APP_DELETED,"The Firebase app was deleted.")}function I(e,t){return new v(m.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function A(e){throw new v(m.INTERNAL_ERROR,"Internal error: "+e)}var N={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function R(e){switch(e){case N.RAW:case N.BASE64:case N.BASE64URL:case N.DATA_URL:return;default:throw"Expected one of the event types: ["+N.RAW+", "+N.BASE64+", "+N.BASE64URL+", "+N.DATA_URL+"]."}}var C=function(data,e){this.data=data,this.contentType=e||null};function P(e,t){switch(e){case N.RAW:return new C(j(t));case N.BASE64:case N.BASE64URL:return new C(U(e,t));case N.DATA_URL:return new C((n=new D(t)).base64?U(N.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw I(N.DATA_URL,"Malformed data URL.")}return j(t)}(n.rest),function(e){return new D(e).contentType}(t))}var n;throw w()}function j(e){for(var b=[],i=0;i<e.length;i++){var t=e.charCodeAt(i);if(t<=127)b.push(t);else if(t<=2047)b.push(192|t>>6,128|63&t);else if(55296==(64512&t))if(i<e.length-1&&56320==(64512&e.charCodeAt(i+1)))t=65536|(1023&t)<<10|1023&e.charCodeAt(++i),b.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t);else b.push(239,191,189);else 56320==(64512&t)?b.push(239,191,189):b.push(224|t>>12,128|t>>6&63,128|63&t)}return new Uint8Array(b)}function U(e,t){switch(e){case N.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw I(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case N.BASE64URL:var o=-1!==t.indexOf("+"),c=-1!==t.indexOf("/");if(o||c)throw I(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var l;try{l=atob(t)}catch(t){throw I(e,"Invalid character found")}for(var f=new Uint8Array(l.length),i=0;i<l.length;i++)f[i]=l.charCodeAt(i);return f}var D=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw I(N.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(s=n,r=";base64",s.length>=r.length&&s.substring(s.length-r.length)===r),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var s,r};var M,L={STATE_CHANGED:"state_changed"},x={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},F={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function W(e){switch(e){case x.RUNNING:case x.PAUSING:case x.CANCELING:return F.RUNNING;case x.PAUSED:return F.PAUSED;case x.SUCCESS:return F.SUCCESS;case x.CANCELED:return F.CANCELED;case x.ERROR:default:return F.ERROR}}function B(p){return null!=p}function K(p){return void 0!==p}function V(p){return"function"==typeof p}function G(p){return"object"==typeof p}function H(p){return G(p)&&null!==p}function z(p){return"string"==typeof p||p instanceof String}function X(p){return $(p)&&Number.isInteger(p)}function $(p){return"number"==typeof p||p instanceof Number}function J(p){return Z()&&p instanceof Blob}function Z(){return"undefined"!=typeof Blob}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(M||(M={}));var Y=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=M.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=M.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=M.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,body,n){if(this.sent_)throw A("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),B(n))for(var r in n)n.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,n[r].toString());return B(body)?this.xhr_.send(body):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw A("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw A("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw A("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(header){return this.xhr_.getResponseHeader(header)},e.prototype.addUploadProgressListener=function(e){B(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){B(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Q=function(){function e(){}return e.prototype.createXhrIo=function(){return new Y},e}();function ee(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ee();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Z())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var ne=function(){function e(data,e){var t=0,n="";J(data)?(this.data_=data,t=data.size,n=data.type):data instanceof ArrayBuffer?(e?this.data_=new Uint8Array(data):(this.data_=new Uint8Array(data.byteLength),this.data_.set(new Uint8Array(data))),t=this.data_.length):data instanceof Uint8Array&&(e?this.data_=data:(this.data_=new Uint8Array(data.length),this.data_.set(data)),t=data.length),this.size_=t,this.type_=n}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(J(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Z()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(te.apply(null,r))}var o=t.map((function(e){return z(e)?P(N.RAW,e).data:e.data_})),c=0;o.forEach((function(e){c+=e.byteLength}));var l=new Uint8Array(c),f=0;return o.forEach((function(e){for(var i=0;i<e.length;i++)l[f++]=e[i]})),new e(l,!0)},e.prototype.uploadData=function(){return this.data_},e}(),re=function(){function e(e,path){this.bucket=e,this.path_=path}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n,r;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw r=t,new v(m.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")},e.makeFromUrl=function(t){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");for(var o=l.replace(/[.]/g,"\\."),c=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],i=0;i<c.length;i++){var f=c[i],h=f.regex.exec(t);if(h){var d=h[f.indices.bucket],_=h[f.indices.path];_||(_=""),n=new e(d,_),f.postModify(n);break}}if(null==n)throw function(e){return new v(m.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return n},e}();function ie(s){var e,p;try{e=JSON.parse(s)}catch(e){return null}return G(p=e)&&!Array.isArray(p)?e:null}function oe(path,e){var t=e.split("/").filter((function(component){return component.length>0})).join("/");return 0===path.length?t:path+"/"+t}function ae(path){var e=path.lastIndexOf("/",path.length-2);return-1===e?path:path.slice(e+1)}function se(e){return"https://"+l+"/v0"+e}function ce(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function ue(e,t){return t}var le=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ue},fe=null;function pe(){if(fe)return fe;var e=[];e.push(new le("bucket")),e.push(new le("generation")),e.push(new le("metageneration")),e.push(new le("name","fullPath",!0));var t=new le("name");t.xform=function(e,t){return function(e){return!z(e)||e.length<2?e:ae(e)}(t)},e.push(t);var n=new le("size");return n.xform=function(e,t){return B(t)?Number(t):t},e.push(n),e.push(new le("timeCreated")),e.push(new le("updated")),e.push(new le("md5Hash",null,!0)),e.push(new le("cacheControl",null,!0)),e.push(new le("contentDisposition",null,!0)),e.push(new le("contentEncoding",null,!0)),e.push(new le("contentLanguage",null,!0)),e.push(new le("contentType",null,!0)),e.push(new le("metadata","customMetadata",!0)),fe=e}function he(e,t,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var c=n[i];r[c.local]=c.xform(r,t[c.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,path=e.fullPath,r=new re(n,path);return t.makeStorageReference(r)}})}(r,e),r}function de(e,t,n){var r=ie(t);return null===r?null:he(e,r,n)}function ge(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function _e(p){if(!G(p)||!p)throw"Expected Metadata object.";for(var e in p)if(p.hasOwnProperty(e)){var t=p[e];if("customMetadata"===e){if(!G(t))throw"Expected object for 'customMetadata' mapping."}else if(H(t))throw"Mapping for '"+e+"' cannot be an object."}}var ve="maxResults",be=1e3,me="pageToken",ye="prefixes",we="items";function Te(e,t){var n={prefixes:[],items:[],nextPageToken:t.nextPageToken},r=e.bucket();if(null===r)throw new v(m.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f+"' property when initializing the app?");if(t[ye])for(var o=0,c=t[ye];o<c.length;o++){var l=c[o].replace(/\/$/,""),h=e.makeStorageReference(new re(r,l));n.prefixes.push(h)}if(t[we])for(var d=0,_=t[we];d<_.length;d++){var y=_[d];h=e.makeStorageReference(new re(r,y.name));n.items.push(h)}return n}function Ee(p){if(!G(p)||!p)throw"Expected ListOptions object.";for(var e in p)if(e===ve){if(!X(p[ve])||p[ve]<=0)throw"Expected maxResults to be a positive number.";if(p[ve]>1e3)throw"Expected maxResults to be less than or equal to "+be+"."}else{if(e!==me)throw"Unknown option: "+e;if(p[me]&&!z(p[me]))throw"Expected pageToken to be string."}}var Se=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ke(e){if(!e)throw w()}function Oe(e,t){return function(n,text){var r=de(e,text,t);return ke(null!==r),r}}function Ie(e){return function(t,text){var n=function(e,t){var n=ie(t);return null===n?null:Te(e,n)}(e,text);return ke(null!==n),n}}function Ae(e,t){return function(n,text){var r=de(e,text,t);return ke(null!==r),function(e,t){var n=ie(t);if(null===n)return null;if(!z(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,path=e.fullPath;return se("/b/"+o(n)+"/o/"+o(path))+ce({alt:"media",token:t})}))[0]}(r,text)}}function Ne(e){return function(t,n){var r,path,o;return 401===t.getStatus()?r=new v(m.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new v(m.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(path=e.path,r=new v(m.UNAUTHORIZED,"User does not have permission to access '"+path+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function Re(e){var t=Ne(e);return function(n,r){var path,o=t(n,r);return 404===n.getStatus()&&(path=e.path,o=new v(m.OBJECT_NOT_FOUND,"Object '"+path+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Ce(e,t,n){var r=se(t.fullServerUrl()),o=e.maxOperationRetryTime(),c=new Se(r,"GET",Oe(e,n),o);return c.errorHandler=Re(t),c}function Pe(e,t,n,r,o){var c={};t.isRoot?c.prefix="":c.prefix=t.path+"/",n&&n.length>0&&(c.delimiter=n),r&&(c.pageToken=r),o&&(c.maxResults=o);var l=se(t.bucketOnlyServerUrl()),f=e.maxOperationRetryTime(),h=new Se(l,"GET",Ie(e),f);return h.urlParams=c,h.errorHandler=Ne(t),h}function je(e,t,n){var r=se(t.fullServerUrl()),o=e.maxOperationRetryTime(),c=new Se(r,"GET",Ae(e,n),o);return c.errorHandler=Re(t),c}function Ue(e,t,n,r){var o=se(t.fullServerUrl()),body=ge(n,r),c=e.maxOperationRetryTime(),l=new Se(o,"PATCH",Oe(e,r),c);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=body,l.errorHandler=Re(t),l}function De(e,t){var n=se(t.fullServerUrl()),r=e.maxOperationRetryTime();var o=new Se(n,"DELETE",(function(e,t){}),r);return o.successCodes=[200,204],o.errorHandler=Re(t),o}function Me(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Le=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function xe(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){ke(!1)}return ke(!!n&&-1!==(t||["active"]).indexOf(n)),n}function Fe(e,t,n,r,o,c,l,f){var h=new Le(0,0);if(l?(h.current=l.current,h.total=l.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw new v(m.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var d=h.total-h.current,_=d;o>0&&(_=Math.min(_,o));var y=h.current,w=y+_,T={"X-Goog-Upload-Command":_===d?"upload, finalize":"upload","X-Goog-Upload-Offset":h.current},body=r.slice(y,w);if(null===body)throw E();var S=t.maxUploadRetryTime(),k=new Se(n,"POST",(function(e,text){var n,o=xe(e,["active","final"]),l=h.current+_,f=r.size();return n="final"===o?Oe(t,c)(e,text):null,new Le(l,f,"final"===o,n)}),S);return k.headers=T,k.body=body.uploadData(),k.progressCallback=f||null,k.errorHandler=Ne(e),k}var We=function(e,t,n){if(V(e)||B(t)||B(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Be=function(e,t,n,r,o,c){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=o,this.ref=c};function qe(e,t,n){for(var r=t.length,o=t.length,i=0;i<t.length;i++)if(t[i].optional){r=i;break}var c,l,f,h,d,_;if(!(r<=n.length&&n.length<=o))throw c=r,l=o,f=e,h=n.length,c===l?(d=c,_=1===c?"argument":"arguments"):(d="between "+c+" and "+l,_="arguments"),new v(m.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+f+"`: Expected "+d+" "+_+", received "+h+".");for(i=0;i<n.length;i++)try{t[i].validator(n[i])}catch(t){throw t instanceof Error?k(i,e,t.message):k(i,e,t)}}var Ke=function(e,t){var n=this;this.validator=function(p){n.optional&&!K(p)||e(p)},this.optional=!!t};function Ve(e,t){function n(p){if(!z(p))throw"Expected string."}var r,o,c;return e?(o=n,c=e,r=function(p){o(p),c(p)}):r=n,new Ke(r,t)}function Ge(){return new Ke((function(p){if(!(p instanceof Uint8Array||p instanceof ArrayBuffer||Z()&&p instanceof Blob))throw"Expected Blob or File."}))}function He(e){return new Ke(_e,e)}function ze(e){return new Ke(Ee,e)}function Xe(){return new Ke((function(p){if(!($(p)&&p>=0))throw"Expected a number 0 or greater."}))}function $e(e,t){return new Ke((function(p){if(!(null===p||B(p)&&p instanceof Object))throw"Expected an Object.";null!=e&&e(p)}),t)}function Je(e){return new Ke((function(p){if(!(null===p||V(p)))throw"Expected a Function."}),e)}function Ze(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Ye=function(){function e(e,t,n,r,o,c){var l=this;void 0===c&&(c=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=o,this.metadata_=c,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=x.RUNNING,this.errorHandler_=function(e){l.request_=null,l.chunkMultiplier_=1,e.codeEquals(m.CANCELED)?(l.needToFetchStatus_=!0,l.completeTransitions_()):(l.error_=e,l.transition_(x.ERROR))},this.metadataErrorHandler_=function(e){l.request_=null,e.codeEquals(m.CANCELED)?l.completeTransitions_():(l.error_=e,l.transition_(x.ERROR))},this.promise_=new Promise((function(e,t){l.resolve_=e,l.reject_=t,l.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===x.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then((function(n){switch(t.state_){case x.RUNNING:e(n);break;case x.CANCELING:t.transition_(x.CANCELED);break;case x.PAUSING:t.transition_(x.PAUSED)}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,o){var c=t.bucketOnlyServerUrl(),l=Me(t,r,o),f={name:l.fullPath},h=se(c),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},body=ge(l,n),_=e.maxUploadRetryTime(),v=new Se(h,"POST",(function(e){var t;xe(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){ke(!1)}return ke(z(t)),t}),_);return v.urlParams=f,v.headers=d,v.body=body,v.errorHandler=Ne(t),v}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var o=e.maxUploadRetryTime(),c=new Se(n,"POST",(function(e){var t=xe(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){ke(!1)}n||ke(!1);var o=Number(n);return ke(!isNaN(o)),new Le(o,r.size(),"final"===t)}),o);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Ne(t),c}(e.authWrapper_,e.location_,t,e.blob_),o=e.authWrapper_.makeRequest(r,n);e.request_=o,o.getPromise().then((function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new Le(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(o){var c;try{c=Fe(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(x.ERROR)}var l=e.authWrapper_.makeRequest(c,o);e.request_=l,l.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(x.SUCCESS)):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=Ce(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_(x.SUCCESS)}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,o){var c=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},f=function(){for(var e="",i=0;i<2;i++)e+=Math.random().toString().slice(2);return e}();l["Content-Type"]="multipart/related; boundary="+f;var h=Me(t,r,o),d="--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ge(h,n)+"\r\n--"+f+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",_="\r\n--"+f+"--",body=ne.getBlob(d,r,_);if(null===body)throw E();var v={name:h.fullPath},m=se(c),y=e.maxUploadRetryTime(),w=new Se(m,"POST",Oe(e,n),y);return w.urlParams=v,w.headers=l,w.body=body.uploadData(),w.errorHandler=Ne(t),w}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(x.SUCCESS)}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case x.CANCELING:case x.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case x.RUNNING:var t=this.state_===x.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case x.PAUSED:this.state_=e,this.notifyObservers_();break;case x.CANCELED:this.error_=T(),this.state_=e,this.notifyObservers_();break;case x.ERROR:case x.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case x.PAUSING:this.transition_(x.PAUSED);break;case x.CANCELING:this.transition_(x.CANCELED);break;case x.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=W(this.state_);return new Be(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function o(){if(e!==L.STATE_CHANGED)throw"Expected one of the event types: ["+L.STATE_CHANGED+"]."}var c="Expected a function or an Object with one of `next`, `error`, `complete` properties.",l=Je(!0).validator,f=$e(null,!0).validator;function h(p){try{return void l(p)}catch(e){}try{if(f(p),!(K(p.next)||K(p.error)||K(p.complete)))throw"";return}catch(e){throw c}}var d=[Ve(o),$e(h,!0),Je(!0),Je(!0)];qe("on",d,arguments);var _=this;function v(e){return function(t,n,o){null!==e&&qe("on",e,arguments);var c=new We(t,n,r);return _.addObserver_(c),function(){_.removeObserver_(c)}}}function m(p){if(null===p)throw c;h(p)}var y=[$e(m),Je(!0),Je(!0)],w=!(K(t)||K(n)||K(r));return w?v(y):v(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var i=this.observers_.indexOf(e);-1!==i&&this.observers_.splice(i,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach((function(t){e.notifyObserver_(t)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(W(this.state_)){case F.SUCCESS:Ze(this.resolve_.bind(null,this.snapshot))();break;case F.CANCELED:case F.ERROR:Ze(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(W(this.state_)){case F.RUNNING:case F.PAUSED:e.next&&Ze(e.next.bind(e,this.snapshot))();break;case F.SUCCESS:e.complete&&Ze(e.complete.bind(e))();break;case F.CANCELED:case F.ERROR:e.error&&Ze(e.error.bind(e,this.error_))();break;default:e.error&&Ze(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){qe("resume",[],arguments);var e=this.state_===x.PAUSED||this.state_===x.PAUSING;return e&&this.transition_(x.RUNNING),e},e.prototype.pause=function(){qe("pause",[],arguments);var e=this.state_===x.RUNNING;return e&&this.transition_(x.PAUSING),e},e.prototype.cancel=function(){qe("cancel",[],arguments);var e=this.state_===x.RUNNING||this.state_===x.PAUSING;return e&&this.transition_(x.CANCELING),e},e}(),Qe=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof re?t:re.makeFromUrl(t)}return e.prototype.toString=function(){return qe("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return pe()},e.prototype.child=function(e){qe("child",[Ve()],arguments);var t=oe(this.location.path,e),n=new re(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(path){if(0===path.length)return null;var e=path.lastIndexOf("/");return-1===e?"":path.slice(0,e)}(this.location.path);if(null===e)return null;var t=new re(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new re(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return ae(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(data,e){return void 0===e&&(e=null),qe("put",[Ge(),He(!0)],arguments),this.throwIfRoot_("put"),new Ye(this,this.authWrapper,this.location,this.mappings(),new ne(data),e)},e.prototype.putString=function(e,t,n){void 0===t&&(t=N.RAW),qe("putString",[Ve(),Ve(R,!0),He(!0)],arguments),this.throwIfRoot_("putString");var data=P(t,e),r=Object.assign({},n);return!B(r.contentType)&&B(data.contentType)&&(r.contentType=data.contentType),new Ye(this,this.authWrapper,this.location,this.mappings(),new ne(data.data,!0),r)},e.prototype.delete=function(){var e=this;return qe("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(t){var n=De(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){qe("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return Object(c.__awaiter)(this,void 0,void 0,(function(){var n,r,o,l;return Object(c.__generator)(this,(function(c){switch(c.label){case 0:return n={pageToken:t},[4,this.list(n)];case 1:return r=c.sent(),(o=e.prefixes).push.apply(o,r.prefixes),(l=e.items).push.apply(l,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(e,r.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))},e.prototype.list=function(e){qe("list",[ze(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=e||{},o=Pe(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(o,n).getPromise()}))},e.prototype.getMetadata=function(){var e=this;return qe("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(t){var n=Ce(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){var t=this;return qe("updateMetadata",[He()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=Ue(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){var e=this;return qe("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(t){var n=je(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw S();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new v(m.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),et=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),tt=function(){function e(){this.map=new Map,this.id=_}return e.prototype.addRequest=function(e){var t=this,n=this.id;this.id++,this.map.set(n,e),e.getPromise().then((function(){return t.map.delete(n)}),(function(){return t.map.delete(n)}))},e.prototype.clear=function(){this.map.forEach((function(e){e&&e.cancel(!0)})),this.map.clear()},e}(),nt=function(){function e(t,n,r,o,c){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var l=this.app_.options;B(l)&&(this.bucket_=e.extractBucket_(l))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=c,this.service_=o,this.maxOperationRetryTime_=h,this.maxUploadRetryTime_=d,this.requestMap_=new tt}return e.extractBucket_=function(e){var t=e[f]||null;return null==t?null:re.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&B(this.app_.INTERNAL)&&B(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(e){return null!==e?e.accessToken:null}),(function(){return null})):Promise.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw O();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new et(O());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(time){this.maxUploadRetryTime_=time},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(time){this.maxOperationRetryTime_=time},e}();var it=function(){function e(e,t,n,body,r,o,c,l,f,h,d){var _=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=body,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=h,this.timeout_=f,this.pool_=d,this.promise_=new Promise((function(e,t){_.resolve_=e,_.reject_=t,_.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,o=e.resolve_,c=e.reject_,l=n.xhr;if(n.wasSuccessCode)try{var f=e.callback_(l,l.getResponseText());K(f)?o(f):o()}catch(e){c(e)}else null!==l?((r=w()).setServerResponseProp(l.getResponseText()),e.errorCallback_?c(e.errorCallback_(l,r)):c(r)):n.canceled?c(r=e.appDelete_?O():T()):c(r=new v(m.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new ot(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,o=null,c=!1,l=0;function f(){return 2===l}var h=!1;function d(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];h||(h=!0,t.apply(null,e))}function _(t){o=setTimeout((function(){o=null,e(v,f())}),t)}function v(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];h||(e?d.call.apply(d,[null,e].concat(n)):f()||c?d.call.apply(d,[null,e].concat(n)):(r<64&&(r*=2),1===l?(l=2,t=0):t=1e3*(r+Math.random()),_(t)))}var m=!1;function y(e){m||(m=!0,h||(null!==o?(e||(l=2),clearTimeout(o),_(0)):e||(l=1)))}return _(0),setTimeout((function(){c=!0,y(!0)}),n),y}((function(t,n){if(n)t(!1,new ot(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(o),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(o),e.pendingXhr_=null;var r=(n=n).getErrorCode()===M.NO_ERROR,c=n.getStatus();if(r&&!e.isRetryStatusCode_(c)){var l=-1!==e.successCodes_.indexOf(c);t(!0,new ot(l,n))}else{var f=n.getErrorCode()===M.ABORT;t(!1,new ot(!1,null,f))}}))}function o(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),ot=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function at(e,t,n){var r=ce(e.urlParams),c=e.url+r,l=Object.assign({},e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,t),function(e){var t=void 0!==o.a?o.a.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}(l),new it(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var st=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new nt(e,(function(e,t){return new Qe(e,t)}),at,this,t),this.app_=e,null!=n)this.bucket_=re.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new re(r,""))}this.internals_=new ct(this)}return e.prototype.ref=function(path){function e(path){if("string"!=typeof path)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(path))throw"Expected child path but got a URL, use refFromURL instead."}if(qe("ref",[Ve(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new Qe(this.authWrapper_,this.bucket_);return null!=path?t.child(path):t},e.prototype.refFromURL=function(e){function t(p){if("string"!=typeof p)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(p))throw"Expected full URL but got a child path, use ref instead.";try{re.makeFromUrl(p)}catch(e){throw"Expected valid full URL but got an invalid one."}}return qe("refFromURL",[Ve(t,!1)],arguments),new Qe(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(time){qe("setMaxUploadRetryTime",[Xe()],arguments),this.authWrapper_.setMaxUploadRetryTime(time)},e.prototype.setMaxOperationRetryTime=function(time){qe("setMaxOperationRetryTime",[Xe()],arguments),this.authWrapper_.setMaxOperationRetryTime(time)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),ct=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},e}(),ut="storage";function lt(e,t,n){return new st(e,new Q,n)}function ft(e){var t={TaskState:F,TaskEvent:L,StringFormat:N,Storage:st,Reference:Qe};e.INTERNAL.registerService(ut,lt,t,void 0,!0)}ft(o.a)},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,c=n(38),l=n(57);n(168);var f,h,d,_,v=n(60),m="0.2.19",y="FB-PERF-TRACE-START",w="FB-PERF-TRACE-STOP",T="FB-PERF-TRACE-MEASURE",E="_wt_",S="@firebase/performance/config",k="@firebase/performance/configexpire",O=((f={})["trace started"]="Trace {$traceName} was started before.",f["trace stopped"]="Trace {$traceName} is not running.",f["no window"]="Window is not available.",f["no app id"]="App id is not available.",f["no project id"]="Project id is not available.",f["no api key"]="Api key is not available.",f["invalid cc log"]="Attempted to queue invalid cc event",f["FB not default"]="Performance can only start when Firebase app instance is the default one.",f["RC response not ok"]="RC response is not ok",f["invalid attribute name"]="Attribute name {$attributeName} is invalid.",f["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",f["invalide custom metric name"]="Custom metric name {$customMetricName} is invalid",f),I=new l.ErrorFactory("performance","Performance",O),A=function(){function e(e){if(!e)throw I.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var o=r[n];t(o)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===h&&(h=new e(d)),h},e}();var N,R,C=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw I.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw I.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw I.create("no api key");return e},e.getInstance=function(){return void 0===_&&(_=new e),_},e}();function P(){return N}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e[e.PRERENDER=3]="PRERENDER",e[e.UNLOADED=4]="UNLOADED"}(R||(R={}));var j=["firebase_","google_","ga_"],U=new RegExp("^[a-zA-Z]\\w*$"),D=40,M=100;function L(){var e=A.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function x(){switch(A.getInstance().document.visibilityState){case"visible":return R.VISIBLE;case"hidden":return R.HIDDEN;case"prerender":return R.PRERENDER;default:return R.UNKNOWN}}function F(){var e=A.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var W=new v.Logger("Performance");W.logLevel=v.LogLevel.INFO;var B="0.0.1",K={loggingEnabled:!0},V="FIREBASE_INSTALLATIONS_AUTH";function G(e){var t=function(){var e=A.getInstance().localStorage,t=e.getItem(k);if(!(t&&(n=t,Number(n)>Date.now())))return;var n;var r=e.getItem(S);if(!r)return;try{return JSON.parse(r)}catch(e){return}}();return t?(z(t),Promise.resolve()):function(e){return(t=C.getInstance().firebaseAppInstance.installations().getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+C.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+C.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:V+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:C.getInstance().getAppId(),app_version:m,sdk_version:B})});return fetch(r).then((function(e){if(e.ok)return e.json();throw I.create("RC response not ok")}))})).catch((function(){W.info(H)}));var t}(e).then((function(e){return z(e)})).then((function(e){return function(e){if(!e)return;var t=A.getInstance().localStorage;t.setItem(S,JSON.stringify(e)),t.setItem(k,String(Date.now()+60*C.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var H="Could not fetch config, will use default configs";function z(e){if(!e)return e;var t=C.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=K.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=X(t.tracesSamplingRate),t.logNetworkAfterSampling=X(t.networkRequestsSamplingRate),e}function X(e){return Math.random()<=e}var $,J=1;function Z(){return J=2,$=$||function(){var e=A.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return(e=C.getInstance().firebaseAppInstance.installations().getId()).then((function(e){N=e})),e;var e})).then((function(e){return G(e)})).then((function(){return Y()}),(function(){return Y()}))}function Y(){J=3}var Q,ee=1e4,te=3,ne=te,re=[];function ie(e){if(!e.eventTime||!e.message)throw I.create("invalid cc log");re=re.concat([e])}function oe(){if(Q)return Q;var e=function(e){return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var c=e.apply(void 0,r);ie({message:c,eventTime:Date.now()})}}(ce);return(Q=new v.Logger("@firebase/performance/cc")).logHandler=e,Q}function ae(e){var t=C.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&A.getInstance().requiredApisAvailable()&&(e.isAuto&&x()!==R.VISIBLE||t.loggingEnabled&&t.logTraceAfterSampling&&(3===J?se(e):Z().then((function(){return se(e)}),(function(){return se(e)}))))}function se(e){P()&&setTimeout((function(){return oe().log(e,1)}),0)}function ce(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},o={application_info:ue(),network_request_metric:r},JSON.stringify(o)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=le(e.counters));var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=le(n));var r={application_info:ue(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,o}function ue(){return{google_app_id:C.getInstance().getAppId(),app_instance_id:P(),web_app_info:{sdk_version:m,page_url:A.getInstance().getUrl(),service_worker_status:L(),visibility_state:x(),effective_connection_type:F()},application_process_state:0}}function le(e){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))}!function e(t){setTimeout((function(){if(0!==ne){if(!re.length)return e(ee);var t=re.slice();re=[];var n=t.map((function(e){return{source_extension_json:e.message,event_time_ms:String(e.eventTime)}})),data={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:C.getInstance().logSource,log_event:n};fetch(C.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(data)}).then((function(e){return e.ok||W.info("Call to Firebase backend failed."),e.json()})).then((function(t){var n=Number(t.next_request_wait_millis),r=isNaN(n)?ee:Math.max(ee,n);ne=te,e(r)})).catch((function(){re=t.concat(re),ne--,W.info("Tries left: "+ne+"."),e(ee)}))}}),t)}(5500);var fe=100,pe="_",he=["_fp","_fcp","_fid"];var de=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=A.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=y+"-"+this.randomId+"-"+this.name,this.traceStopMark=w+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||T+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw I.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw I.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ae(this)},e.prototype.record=function(e,t,n){if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=c.__assign({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var l=o[r];isNaN(Number(n.metrics[l]))||(this.counters[l]=Number(Math.floor(n.metrics[l])))}ae(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]&&this.putMetric(e,0),this.counters[e]+=t},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>fe||!(r&&r.startsWith(E)&&he.indexOf(n)>-1)&&n.startsWith(pe))throw I.create("invalide custom metric name",{customMetricName:e});var n,r;this.counters[e]=t},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>D||j.some((function(e){return n.startsWith(e)}))||!n.match(U)),o=function(e){return 0!==e.length&&e.length<=M}(t);if(r&&o)this.customAttributes[e]=t;else{if(!r)throw I.create("invalid attribute name",{attributeName:e});if(!o)throw I.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return c.__assign({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var o=A.getInstance().getUrl();if(o){var c=new e(E+o,!0),l=Math.floor(1e3*A.getInstance().getTimeOrigin());c.setStartTime(l),t&&t[0]&&(c.setDuration(Math.floor(1e3*t[0].duration)),c.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),c.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),c.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var f=n.find((function(e){return"first-paint"===e.name}));f&&f.startTime&&c.putMetric("_fp",Math.floor(1e3*f.startTime));var h=n.find((function(e){return"first-contentful-paint"===e.name}));h&&h.startTime&&c.putMetric("_fcp",Math.floor(1e3*h.startTime)),r&&c.putMetric("_fid",Math.floor(1e3*r))}ae(c)}},e.createUserTimingTrace=function(t){ae(new e(t,!1,t))},e}();function ge(e){var t=e;if(t&&void 0!==t.responseStart){var n=A.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),o=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,c=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=C.getInstance();t.instrumentationEnabled&&e.url!==t.logEndPointUrl.split("?")[0]&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return oe().log(e,0)}),0)}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:c})}}var _e=5e3;function ve(){P()&&(setTimeout((function(){return function(){var e=A.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){de.createOobTrace(t,n),r=void 0}),_e);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),de.createOobTrace(t,n,e))}))}else de.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=A.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){ge(r[n])}e.setupObserver("resource",ge)}()}),0),setTimeout((function(){return function(){for(var e=A.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){be(r[n])}e.setupObserver("measure",be)}()}),0))}function be(e){var t=e.name;t.substring(0,T.length)!==T&&de.createUserTimingTrace(t)}var me=function(){function e(e){this.app=e,A.getInstance().requiredApisAvailable()?Z().then(ve,ve):W.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return e.prototype.trace=function(e){return new de(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return C.getInstance().instrumentationEnabled},set:function(e){C.getInstance().instrumentationEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return C.getInstance().dataCollectionEnabled},set:function(e){C.getInstance().dataCollectionEnabled=e},enumerable:!0,configurable:!0}),e}(),ye="[DEFAULT]";function we(e){e.INTERNAL.registerService("performance",(function(e){if(e.name!==ye)throw I.create("FB not default");if("undefined"==typeof window)throw I.create("no window");return function(e){d=e}(window),C.getInstance().firebaseAppInstance=e,new me(e)}),{})}we(o),t.registerPerformance=we},180:function(e,t,n){"use strict";n.r(t),n.d(t,"factory",(function(){return P})),n.d(t,"registerAnalytics",(function(){return U})),n.d(t,"resetGlobalVars",(function(){return R})),n.d(t,"settings",(function(){return C}));var r,o,c,l=n(0),f=n.n(l),h=n(38),d=(n(168),n(57)),_="measurementId",v="firebase_id",m="origin";function y(e){return Array.isArray(window[e])}function w(e,t,n){var o=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];window[t].push(arguments)};return window[n]&&"function"==typeof window[n]&&(o=window[n]),window[n]=function(e,t){return function(n,o,c){if(n===r.EVENT){var l=[];if(c&&c.send_to){var f=c.send_to;Array.isArray(f)||(f=[f]);for(var h=0,d=f;h<d.length;h++){var _=d[h],v=t[_];if(!v){l=[];break}l.push(v)}}if(0===l.length)for(var m=0,y=Object.values(t);m<y.length;m++){var w=y[m];l.push(w)}Promise.all(l).then((function(){return e(r.EVENT,o,c||{})})).catch((function(e){return console.error(e)}))}else if(n===r.CONFIG){(t[o]||Promise.resolve()).then((function(){e(r.CONFIG,o,c)})).catch((function(e){return console.error(e)}))}else e(r.SET,o)}}(o,e),{gtagCore:o,wrappedGtag:window[n]}}!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(r||(r={})),function(e){e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(o||(o={}));var T,E,S=((c={})["no-ga-id"]='"'+_+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',c["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",c["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",c),k=new d.ErrorFactory("analytics","Analytics",S),O={},I="dataLayer",A="gtag",N=!1;function R(e,t){void 0===e&&(e=!1),void 0===t&&(t={}),N=e,O=t,I="dataLayer",A="gtag"}function C(e){if(N)throw k.create("already-initialized");e.dataLayerName&&(I=e.dataLayerName),e.gtagName&&(A=e.gtagName)}function P(e,t){if(!e.options[_])throw k.create("no-ga-id");var n=e.options[_];if(null!=O[n])throw k.create("already-exists",{id:n});if(!N){y(I)||function(e){var script=document.createElement("script");script.src="https://www.googletagmanager.com/gtag/js?l="+e,script.async=!0,document.head.appendChild(script)}(I),function(e){y(e)?window[e]:window[e]=[]}(I);var o=w(O,I,A),c=o.wrappedGtag,l=o.gtagCore;E=c,T=l,N=!0}O[n]=function(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,o;return Object(h.__generator)(this,(function(c){switch(c.label){case 0:return[4,e.installations().getId()];case 1:return n=c.sent(),t("js",new Date),t(r.CONFIG,e.options[_],((o={})[v]=n,o[m]="firebase",o.update=!0,o)),[2]}}))}))}(e,T);var f={app:e,logEvent:function(e,t,o){return function(e,t,n,o,c){var l=o||{};c&&c.global||(l=Object(h.__assign)({},o,{send_to:t})),e(r.EVENT,n,l||{})}(E,n,e,t,o)},setCurrentScreen:function(e,t){return function(e,t,n,o){o&&o.global?e(r.SET,{screen_name:n}):e(r.CONFIG,t,{update:!0,screen_name:n})}(E,n,e,t)},setUserId:function(e,t){return function(e,t,n,o){o&&o.global?e(r.SET,{user_id:n}):e(r.CONFIG,t,{update:!0,user_id:n})}(E,n,e,t)},setUserProperties:function(e,t){return function(e,t,n,o){if(o&&o.global){for(var c={},l=0,f=Object.keys(n);l<f.length;l++){var h=f[l];c["user_properties."+h]=n[h]}e(r.SET,c)}else e(r.CONFIG,t,{update:!0,user_properties:n})}(E,n,e,t)},setAnalyticsCollectionEnabled:function(t){return function(e,t){window["ga-disable-"+e]=!t}(e.options[_],t)}};return t({INTERNAL:{analytics:{logEvent:f.logEvent}}}),f}var j="analytics";function U(e){e.INTERNAL.registerService(j,P,{settings:C,EventName:o},void 0,!1)}U(f.a)},181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;n(168);var c,l=n(38),f=n(57),h=n(60),d=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,c;return l.__generator(this,(function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=l.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return o=l.sent(),c=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&c.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(c)];case 3:return l.sent(),[2,o]}}))}))},e}(),_=((c={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",c["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",c["registration-api-key"]="Undefined API key. Check Firebase app initialization.",c["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",c["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',c["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',c["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c),v=new f.ErrorFactory("remoteconfig","Remote Config",_);var m=function(){function e(e,t,n,r,o,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=c}return e.prototype.fetch=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,c,f,h,d,_,m,y,w,T,E,S,k,O,I,A;return l.__generator(this,(function(l){switch(l.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=l.sent(),n=t[0],r=t[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",c=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===N&&(N=navigator),N.languages&&N.languages[0]||N.language)},d={method:"POST",headers:f,body:JSON.stringify(h)},_=fetch(c,d),m=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),l.label=2;case 2:return l.trys.push([2,5,,6]),[4,Promise.race([_,m])];case 3:return l.sent(),[4,_];case 4:return y=l.sent(),[3,6];case 5:throw w=l.sent(),T="fetch-client-network","AbortError"===w.name&&(T="fetch-timeout"),v.create(T,{originalErrorMessage:w.message});case 6:if(E=y.status,S=y.headers.get("ETag")||void 0,200!==y.status)return[3,11];I=void 0,l.label=7;case 7:return l.trys.push([7,9,,10]),[4,y.json()];case 8:return I=l.sent(),[3,10];case 9:throw A=l.sent(),v.create("fetch-client-parse",{originalErrorMessage:A.message});case 10:k=I.entries,O=I.state,l.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===O?E=500:"NO_CHANGE"===O?E=304:"NO_TEMPLATE"!==O&&"EMPTY_CONFIG"!==O||(k={}),304!==E&&200!==E)throw v.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:S,config:k}]}var N}))}))},e}(),y=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),w="",T=["1","true","t","yes","y","on"],E=function(){function e(e,t){void 0===t&&(t=w),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&T.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),S=6e4,k=432e5,O=function(){function e(e,t,n,r,o){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:S,minimumFetchIntervalMillis:k},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=h.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=h.LogLevel.SILENT;break;default:this._logger.logLevel=h.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),e.prototype.activate=function(){return l.__awaiter(this,void 0,void 0,(function(){var e,t,n;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return l.__awaiter(this,void 0,void 0,(function(){var e=this;return l.__generator(this,(function(t){return[2,new Promise((function(t,n){return l.__awaiter(e,void 0,void 0,(function(){var e,r,o,c=this;return l.__generator(this,(function(h){switch(h.label){case 0:e=new y,setTimeout((function(){return l.__awaiter(c,void 0,void 0,(function(){return l.__generator(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),h.label=1;case 1:return h.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return h.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return h.sent(),t(),[3,6];case 4:return r=h.sent(),_="fetch-throttle",o=(d=r)instanceof f.FirebaseError&&-1!==d.code.indexOf(_)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(o)];case 5:return h.sent(),n(r),[3,6];case 6:return[2]}var d,_}))}))}))]}))}))},e.prototype.fetchAndActivate=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(l.__assign({},e,t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new E("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new E("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new E("static"))},e}();function I(e,t){var n=e.target.error||void 0;return v.create(t,{originalErrorMessage:n&&n.message})}var A="app_namespace_store",N="firebase_remote_config",R=1;var C=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open(N,R);n.onerror=function(e){t(I(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(A,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n=this;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,o){var c=t.transaction([A],"readonly").objectStore(A),l=n.createCompositeKey(e);try{var f=c.get(l);f.onerror=function(e){o(I(e,"storage-get"))},f.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(e){o(v.create("storage-get",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.set=function(e,t){return l.__awaiter(this,void 0,void 0,(function(){var n,r=this;return l.__generator(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise((function(o,c){var l=n.transaction([A],"readwrite").objectStore(A),f=r.createCompositeKey(e);try{var h=l.put({compositeKey:f,value:t});h.onerror=function(e){c(I(e,"storage-set"))},h.onsuccess=function(){o()}}catch(e){c(v.create("storage-set",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.delete=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t,n=this;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,o){var c=t.transaction([A],"readwrite").objectStore(A),l=n.createCompositeKey(e);try{var f=c.delete(l);f.onerror=function(e){o(I(e,"storage-delete"))},f.onsuccess=function(){r()}}catch(e){o(v.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),P=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return l.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,c;return l.__generator(this,(function(l){switch(l.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=l.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(o=l.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(c=l.sent())&&(this.activeConfig=c),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}(),j=1e3,U=2,D=144e5,M=.5;function L(e){var t=j*Math.pow(U,e),n=Math.round(M*t*(Math.random()-.5)*2);return Math.min(D,t+n)}function x(e,t){return new Promise((function(n,r){var o=Math.max(t-Date.now(),0),c=setTimeout(n,o);e.addEventListener((function(){clearTimeout(c),r(v.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var F=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return l.__awaiter(this,void 0,void 0,(function(){var t;return l.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return l.__awaiter(this,void 0,void 0,(function(){var t,o,c;return l.__generator(this,(function(l){switch(l.label){case 0:return[4,x(e.signal,n)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof f.FirebaseError))return!1;var t=Number(e.httpStatus);return 429===t||500===t||503===t||504===t}(o=l.sent()))throw o;return c={throttleEndTimeMillis:Date.now()+L(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(e,c)];case 7:return[2]}}))}))},e}(),W="@firebase/remote-config";function B(e){e.INTERNAL.registerService("remoteConfig",(function(t,n,r){if("undefined"==typeof window)throw v.create("registration-window");var o=t.options,c=o.projectId,l=o.apiKey,f=o.appId;if(!c)throw v.create("registration-project-id");if(!l)throw v.create("registration-api-key");if(!f)throw v.create("registration-app-id");r=r||"firebase";var _=new C(f,t.name,r),y=new P(_),w=new h.Logger(W);w.logLevel=h.LogLevel.ERROR;var T=new m(t.installations(),e.SDK_VERSION,r,c,l,f),E=new F(T,_),S=new d(E,_,y,w),k=new O(t,S,y,_,w);return k.ensureInitialized(),k}),void 0,void 0,!0)}B(o),t.registerRemoteConfig=B}}]);